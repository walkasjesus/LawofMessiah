import os
import requests
import re

# List of URLs to scrape
urls = [
    "https://tikkunamerica.org/halachah/toc.php",
    "https://tikkunamerica.org/halachah/dedication.php",
    "https://tikkunamerica.org/halachah/preface.php",
    "https://tikkunamerica.org/halachah/intro-mr.php",
    "https://tikkunamerica.org/halachah/intro-dj.php",
    "https://tikkunamerica.org/halachah/intro-mr3c.php",
    "https://tikkunamerica.org/halachah/mitzvah-subject-keys.php",
    "https://tikkunamerica.org/halachah/nc-lac.php",
    "https://tikkunamerica.org/halachah/App-A.php",
    "https://tikkunamerica.org/halachah/App-B.php",
    "https://tikkunamerica.org/halachah/App-C.php",
    "https://tikkunamerica.org/halachah/App-D.php",
    "https://tikkunamerica.org/halachah/App-E.php",
    "https://tikkunamerica.org/halachah/App-F.php",
    "https://tikkunamerica.org/halachah/App-G.php",
    "https://tikkunamerica.org/halachah/App-H.php",
    "https://tikkunamerica.org/halachah/App-I.php",
    "https://tikkunamerica.org/halachah/App-J.php",
    "https://tikkunamerica.org/halachah/App-K.php",
    "https://tikkunamerica.org/halachah/App-L.php",
    "https://tikkunamerica.org/halachah/App-M.php",
    "https://tikkunamerica.org/halachah/A001.php",
    "https://tikkunamerica.org/halachah/A002.php",
    "https://tikkunamerica.org/halachah/A003.php",
    "https://tikkunamerica.org/halachah/A004.php",
    "https://tikkunamerica.org/halachah/A005.php",
    "https://tikkunamerica.org/halachah/A006.php",
    "https://tikkunamerica.org/halachah/A007.php",
    "https://tikkunamerica.org/halachah/A008.php",
    "https://tikkunamerica.org/halachah/A009.php",
    "https://tikkunamerica.org/halachah/A010.php",
    "https://tikkunamerica.org/halachah/A011.php",
    "https://tikkunamerica.org/halachah/A012.php",
    "https://tikkunamerica.org/halachah/A013.php",
    "https://tikkunamerica.org/halachah/A014.php",
    "https://tikkunamerica.org/halachah/A015.php",
    "https://tikkunamerica.org/halachah/A016.php",
    "https://tikkunamerica.org/halachah/A017.php",
    "https://tikkunamerica.org/halachah/A018.php",
    "https://tikkunamerica.org/halachah/A019.php",
    "https://tikkunamerica.org/halachah/A020.php",
    "https://tikkunamerica.org/halachah/A021.php",
    "https://tikkunamerica.org/halachah/A022.php",
    "https://tikkunamerica.org/halachah/A023.php",
    "https://tikkunamerica.org/halachah/A024.php",
    "https://tikkunamerica.org/halachah/B001.php",
    "https://tikkunamerica.org/halachah/B002.php",
    "https://tikkunamerica.org/halachah/B003.php",
    "https://tikkunamerica.org/halachah/B004.php",
    "https://tikkunamerica.org/halachah/B005.php",
    "https://tikkunamerica.org/halachah/B006.php",
    "https://tikkunamerica.org/halachah/C001.php",
    "https://tikkunamerica.org/halachah/C002.php",
    "https://tikkunamerica.org/halachah/C003.php",
    "https://tikkunamerica.org/halachah/C004.php",
    "https://tikkunamerica.org/halachah/D001.php",
    "https://tikkunamerica.org/halachah/D002.php",
    "https://tikkunamerica.org/halachah/D003.php",
    "https://tikkunamerica.org/halachah/D004.php",
    "https://tikkunamerica.org/halachah/D005.php",
    "https://tikkunamerica.org/halachah/D006.php",
    "https://tikkunamerica.org/halachah/D007.php",
    "https://tikkunamerica.org/halachah/D008.php",
    "https://tikkunamerica.org/halachah/D009.php",
    "https://tikkunamerica.org/halachah/D010.php",
    "https://tikkunamerica.org/halachah/D011.php",
    "https://tikkunamerica.org/halachah/D012.php",
    "https://tikkunamerica.org/halachah/D013.php",
    "https://tikkunamerica.org/halachah/D014.php",
    "https://tikkunamerica.org/halachah/D015.php",
    "https://tikkunamerica.org/halachah/D016.php",
    "https://tikkunamerica.org/halachah/D017.php",
    "https://tikkunamerica.org/halachah/D018.php",
    "https://tikkunamerica.org/halachah/D019.php",
    "https://tikkunamerica.org/halachah/D020.php",
    "https://tikkunamerica.org/halachah/E001.php",
    "https://tikkunamerica.org/halachah/E002.php",
    "https://tikkunamerica.org/halachah/E003.php",
    "https://tikkunamerica.org/halachah/E004.php",
    "https://tikkunamerica.org/halachah/E005.php",
    "https://tikkunamerica.org/halachah/E006.php",
    "https://tikkunamerica.org/halachah/E007.php",
    "https://tikkunamerica.org/halachah/E008.php",
    "https://tikkunamerica.org/halachah/F001.php",
    "https://tikkunamerica.org/halachah/F002.php",
    "https://tikkunamerica.org/halachah/F003.php",
    "https://tikkunamerica.org/halachah/F004.php",
    "https://tikkunamerica.org/halachah/F005.php",
    "https://tikkunamerica.org/halachah/G001.php",
    "https://tikkunamerica.org/halachah/G002.php",
    "https://tikkunamerica.org/halachah/G003.php",
    "https://tikkunamerica.org/halachah/G004.php",
    "https://tikkunamerica.org/halachah/G005.php",
    "https://tikkunamerica.org/halachah/G006.php",
    "https://tikkunamerica.org/halachah/G007.php",
    "https://tikkunamerica.org/halachah/G008.php",
    "https://tikkunamerica.org/halachah/G009.php",
    "https://tikkunamerica.org/halachah/G010.php",
    "https://tikkunamerica.org/halachah/G011.php",
    "https://tikkunamerica.org/halachah/G012.php",
    "https://tikkunamerica.org/halachah/G013.php",
    "https://tikkunamerica.org/halachah/G014.php",
    "https://tikkunamerica.org/halachah/G015.php",
    "https://tikkunamerica.org/halachah/G016.php",
    "https://tikkunamerica.org/halachah/G017.php",
    "https://tikkunamerica.org/halachah/G018.php",
    "https://tikkunamerica.org/halachah/G019.php",
    "https://tikkunamerica.org/halachah/G020.php",
    "https://tikkunamerica.org/halachah/H001.php",
    "https://tikkunamerica.org/halachah/H002.php",
    "https://tikkunamerica.org/halachah/H003.php",
    "https://tikkunamerica.org/halachah/H004.php",
    "https://tikkunamerica.org/halachah/H005.php",
    "https://tikkunamerica.org/halachah/H006.php",
    "https://tikkunamerica.org/halachah/H007.php",
    "https://tikkunamerica.org/halachah/H008.php",
    "https://tikkunamerica.org/halachah/I001.php",
    "https://tikkunamerica.org/halachah/I002.php",
    "https://tikkunamerica.org/halachah/I003.php",
    "https://tikkunamerica.org/halachah/I004.php",
    "https://tikkunamerica.org/halachah/I005.php",
    "https://tikkunamerica.org/halachah/I006.php",
    "https://tikkunamerica.org/halachah/I007.php",
    "https://tikkunamerica.org/halachah/I008.php",
    "https://tikkunamerica.org/halachah/I009.php",
    "https://tikkunamerica.org/halachah/J001.php",
    "https://tikkunamerica.org/halachah/J002.php",
    "https://tikkunamerica.org/halachah/J003.php",
    "https://tikkunamerica.org/halachah/J004.php",
    "https://tikkunamerica.org/halachah/J005.php",
    "https://tikkunamerica.org/halachah/K001.php",
    "https://tikkunamerica.org/halachah/K002.php",
    "https://tikkunamerica.org/halachah/K003.php",
    "https://tikkunamerica.org/halachah/K004.php",
    "https://tikkunamerica.org/halachah/K005.php",
    "https://tikkunamerica.org/halachah/K006.php",
    "https://tikkunamerica.org/halachah/L001.php",
    "https://tikkunamerica.org/halachah/L002.php",
    "https://tikkunamerica.org/halachah/L003.php",
    "https://tikkunamerica.org/halachah/M001.php",
    "https://tikkunamerica.org/halachah/M002.php",
    "https://tikkunamerica.org/halachah/M003.php",
    "https://tikkunamerica.org/halachah/M004.php",
    "https://tikkunamerica.org/halachah/M005.php",
    "https://tikkunamerica.org/halachah/M006.php",
    "https://tikkunamerica.org/halachah/M007.php",
    "https://tikkunamerica.org/halachah/M008.php",
    "https://tikkunamerica.org/halachah/M009.php",
    "https://tikkunamerica.org/halachah/M010.php",
    "https://tikkunamerica.org/halachah/M011.php",
    "https://tikkunamerica.org/halachah/N001.php",
    "https://tikkunamerica.org/halachah/N002.php",
    "https://tikkunamerica.org/halachah/N003.php",
    "https://tikkunamerica.org/halachah/N004.php",
    "https://tikkunamerica.org/halachah/N005.php",
    "https://tikkunamerica.org/halachah/N006.php",
    "https://tikkunamerica.org/halachah/N007.php",
    "https://tikkunamerica.org/halachah/N008.php",
    "https://tikkunamerica.org/halachah/N009.php",
    "https://tikkunamerica.org/halachah/N010.php",
    "https://tikkunamerica.org/halachah/N011.php",
    "https://tikkunamerica.org/halachah/N012.php",
    "https://tikkunamerica.org/halachah/N013.php",
    "https://tikkunamerica.org/halachah/N014.php",
    "https://tikkunamerica.org/halachah/N015.php",
    "https://tikkunamerica.org/halachah/N016.php",
    "https://tikkunamerica.org/halachah/N017.php",
    "https://tikkunamerica.org/halachah/N018.php",
    "https://tikkunamerica.org/halachah/O001.php",
    "https://tikkunamerica.org/halachah/O002.php",
    "https://tikkunamerica.org/halachah/O003.php",
    "https://tikkunamerica.org/halachah/O004.php",
    "https://tikkunamerica.org/halachah/O005.php",
    "https://tikkunamerica.org/halachah/P001.php",
    "https://tikkunamerica.org/halachah/P002.php",
    "https://tikkunamerica.org/halachah/P003.php",
    "https://tikkunamerica.org/halachah/P004.php",
    "https://tikkunamerica.org/halachah/P005.php",
    "https://tikkunamerica.org/halachah/P006.php",
    "https://tikkunamerica.org/halachah/P007.php",
    "https://tikkunamerica.org/halachah/R001.php",
    "https://tikkunamerica.org/halachah/R002.php",
    "https://tikkunamerica.org/halachah/R003.php",
    "https://tikkunamerica.org/halachah/R004.php",
    "https://tikkunamerica.org/halachah/S001.php",
    "https://tikkunamerica.org/halachah/S002.php",
    "https://tikkunamerica.org/halachah/S003.php",
    "https://tikkunamerica.org/halachah/S004.php",
    "https://tikkunamerica.org/halachah/S005.php",
    "https://tikkunamerica.org/halachah/S006.php",
    "https://tikkunamerica.org/halachah/S007.php",
    "https://tikkunamerica.org/halachah/S008.php",
    "https://tikkunamerica.org/halachah/S009.php",
    "https://tikkunamerica.org/halachah/W001.php",
    "https://tikkunamerica.org/halachah/W002.php",
    "https://tikkunamerica.org/halachah/Y001.php",
    "https://tikkunamerica.org/halachah/Y002.php",
    "https://tikkunamerica.org/halachah/Y003.php",
    "https://tikkunamerica.org/halachah/Y004.php",
    "https://tikkunamerica.org/halachah/Y005.php",
    "https://tikkunamerica.org/halachah/Y006.php",
    "https://tikkunamerica.org/halachah/Y007.php",
    "https://tikkunamerica.org/halachah/Z001.php"
]

# Directories to save the scraped files
scraped_commandments_dir = "volume_1_2_scraped_commandments"
scraped_files_dir = "volume_1_2_scraped_files"

# Create directories if they don't exist
os.makedirs(scraped_commandments_dir, exist_ok=True)
os.makedirs(scraped_files_dir, exist_ok=True)

# Function to download and save the content of a URL
def download_and_save(url, directory):
    response = requests.get(url)
    if response.status_code == 200:
        filename = os.path.join(directory, os.path.basename(url))
        with open(filename, "w", encoding="utf-8") as file:
            file.write(response.text)
        print(f"Saved {url} to {filename}")
    else:
        print(f"Failed to download {url}")

# Process each URL
for url in urls:
    if re.match(r"https://tikkunamerica.org/halachah/[A-Z][0-9]{3}\.php", url):
        download_and_save(url, scraped_commandments_dir)
    else:
        download_and_save(url, scraped_files_dir)