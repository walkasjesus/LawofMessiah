# the Law of Messiah - Torah from a New Covenant Perspective

## Intro

This repository contains the structured content and scripts for processing the commandments (*mitzvot*) derived from the Bible, as presented in the book series *The Law of Messiah - Torah from a New Covenant Perspective* by Michael Rudolph and Daniel C. Juster. The goal of this project is to make the commandments more accessible by organizing them into structured formats (e.g., YAML) and providing tools for filtering and, searching, and studying them.

## Attribution

This project is based on the book series *The Law of Messiah - Torah from a New Covenant Perspective* by Michael Rudolph and Daniel C. Juster. For more information, visit:
- [The Law of Messiah - Torah from a New Covenant Perspective - Volume 1 & 2](https://tikkunamerica.org/halachah/toc.php)
- [The Law of Messiah - Torah from a New Covenant Perspective - Volume 3](https://www.genesisobservatory.us/ohev/Documents/Mitzvot%20in%20the%20New%20Testament/Vol%203.pdf)

### Disclaimer
The original content in this repository is authored by Rabbi Michael Rudolph and Rabbi Daniel Juster. Any modifications, additions, or discussions contributed by others are not part of their original work and do not represent their views.

## Index

Table of contents of this GIT Repository:
  - File name: **Law_of_Messiah_ot.yaml**
    Description: "Contains the structured YAML representation of commandments from the Old Testament, extracted and processed from Volume 1 & 2 of the book series."
  - File name: **Law_of_Messiah_nt.yaml**
    Description: "Contains the structured YAML representation of commandments from the New Testament, extracted and processed from Volume 3 of the book series."
  - Folder name: **volume_1_2_scripts**
    Description: "Contains scripts for processing the content of Volumes 1 and 2. These scripts scrape, parse, and structure the commandments into YAML files."
  - Folder name: **volume_1_2_scraped_commandments**
    Description: "Contains raw HTML files of commandments scraped from the Volume 1 and 2 website."
  - Folder name: **volume_1_2_scraped_files**
    Description: "Contains additional raw HTML files scraped from the Volume 1 and 2 website, such as the table of contents and appendices."
  - Folder name: **volume_1_2_output**
    Description: "Stores the output files generated by scripts in the `volume_1_2_scripts/` directory. These files include structured YAML representations of commandments from Volumes 1 and 2."
  - Folder name: **volume_3_scripts**
    Description: "Contains scripts for processing the content of Volume 3. These scripts extract commandments, categories, and other fields from the PDF and structure them into YAML files."
  - Folder name: **volume_3_files**
    Description: "Contains the PDF file of Volume 3, which is used as input for the scripts in the `volume_3_scripts/` directory."
  - Folder name: **volume_3_output**
    Description: "Stores the output files generated by scripts in the `volume_3_scripts/` directory. These files include structured YAML representations of commandments from Volume 3."
  - Folder name: **filter_scripts**
    Description: "Contains scripts for filtering commandments based on various criteria, such as category, scripture references, or commandment type."
  - Folder name: **filter_output**
    Description: "Stores the output of scripts in the `filter_scripts/` directory. These files contain filtered commandments based on specific criteria."

## Goal of this GIT project

The Authors did a tremendous job by finding all these Mitzvot (commandments) from the whole Bible. By sharing its content for free we taste something of their heart and devotion to our Messiah. Our Rabbi's have attempted to identify and use only those Scriptures that they believe are intended by God to be Mitzvot for us today. The reader is free to agree or disagree.

The reason behind this project is that we want to provide an Open Source GIT repository with all the commandments/mitzvot derived from the Bible, from a New Covenant perspective. In this way there can be an open discussion, usage and collaboration for all who want to practice a Jewish or Christian lifestyle.

There are 3 big risks which can occur when the reader walks through all the commandments:

1. We cannot earn salvation. We must understand this imporant truth: **First Grace, then Obedience**
2. Don't live your life by a list. If you don't feel that your life is guided by the Holy Spirit, please turn your heart to prayer.
3. A list of all commandments will never cover all situations in life. There are always exceptions to certain circumstances. We must be aware that the commandments are a guideline, and the Holy Spirit will be there to guide us through each circumstance.

## License

This project is licensed under the **Creative Commons Attribution-NoDerivatives 4.0 International (CC BY-ND 4.0)** license.

You are free to:
- **Share** — copy and redistribute the material in any medium or format.

Under the following terms:
- **Attribution** — You must give appropriate credit, provide a link to the license, and refer to the book *The Law of Messiah - Torah from a New Covenant Perspective* by Michael Rudolph and Daniel C. Juster. Changes to the original material are not permitted.
- **NoDerivatives** — If you remix, transform, or build upon the material, you may not distribute the modified material.

## How it works

The scripts in this project will download the books and convert its HTML output to a structured YAML (Yet Another Markup Language) output.

In this way other Followers of Yeshua can make their own websites and use this GIT repository as a source to gather all the commandments of the Bible and disciple their congregations.

**Learn It - Live It - Give It**

### Usage for Other Websites

The files `Law_of_Messiah_ot.yaml` (Old Testament commandments) and `Law_of_Messiah_nt.yaml` (New Testament commandments) are structured YAML representations of the commandments. These files can be used as a source to filter and present specific commandments on your app or website. For example, you can filter commandments by:
- Key scriptures (e.g., all commandments referencing a specific Bible verse).
- Categories (e.g., commandments related to "Godliness, Holiness & Righteousness").
- Commandment types (e.g., Positive or Negative commandments).

#### Example Use Case
A website could use these files to dynamically display commandments that reference specific scriptures or belong to a particular category. This allows for easy integration into study tools, teaching resources, or searchable databases.

When using these files, please take into consideration the **Creative Commons Attribution-NoDerivatives 4.0 International (CC BY-ND 4.0)** license.

### Setup

To set up the environment and use all the scripts in this repository, follow these steps:

```bash
# 1. Clone the Repository
git clone <repository-url>
cd <repository-directory>

# 2. Create a Virtual Environment
python3.11 -m venv venv
source venv/bin/activate  # On Windows, use `venv\Scripts\activate`

# 3. Install Dependencies
pip install -r requirements.txt

# Verify that the following packages are installed:
# - PyMuPDF (for PDF processing)
# - PyYAML (for YAML file handling)
# - fuzzywuzzy (for fuzzy string matching)
# - python-Levenshtein (for improving fuzzywuzzy performance)
# - beautifulsoup4 (for HTML parsing)
# - torch (for machine learning tasks)
# - transformers (for NLP tasks)
# - scikit-learn (for text similarity calculations)
# - gensim (for text processing and similarity)

# If any of these packages are missing, install them manually:
pip install PyMuPDF PyYAML fuzzywuzzy python-Levenshtein beautifulsoup4 torch transformers scikit-learn gensim

# 4. Set Up Directory Structure
# Ensure the following directory structure exists:
mkdir -p volume_1_2_scraped_files volume_1_2_scraped_commandments volume_1_2_output volume_3_files volume_3_output filter_output logs

# 5. Run Scripts
# Use the scripts as described in the "Usage" section. For example:
python3 volume_1_2_scripts/1_get_content.py
python3 volume_3_scripts/1_generate_law_of_Messiah_nt.py

# 6. Verify Outputs
# Check the output directories (volume_1_2_output, volume_3_output, filter_output) for the generated YAML files.

# 7. Deactivate the Virtual Environment
deactivate
```

### Usage

#### Scripts in `volume_1_2_scripts`

1. **1_get_content.py**  
   Scrapes content from the defined URLs and saves the files in `volume_1_2_scraped_files` and `volume_1_2_scraped_commandments`.

2. **2a_parse_toc.py**  
   Parses the `toc.php` file and generates a structured YAML file with all gathered information. Output: `volume_1_2_output/output_2a_toc.yaml`.

3. **2b_commandment.py**  
   Parses all scraped commandments and generates a structured YAML file with all commandments. Output: `volume_1_2_output/output_2b_commandments.yaml`.

4. **2c_scriptures.py**  
   Extracts key scriptures and supportive scriptures (Bible references only) and generates a structured YAML file. Output: `volume_1_2_output/output_2c_scriptures.yaml`.

5. **2d_commentary_rudolph.py**  
   Extracts commentary by Michael Rudolph and generates a structured YAML file. Output: `volume_1_2_output/output_2d_commentary.yaml`.

6. **2e_commentary_juster.py**  
   Extracts commentary by Daniel Juster and generates a structured YAML file. Output: `volume_1_2_output/output_2e_commentary.yaml`.

7. **2f_classical_commentators.py**  
   Extracts classical commentators' information and generates a structured YAML file. Output: `volume_1_2_output/output_2f_classical_commentators.yaml`.

8. **2g_ncla.py**  
   Extracts the New Covenant Literal Application Code (NCLA) and generates a structured YAML file. Output: `volume_1_2_output/output_2g_ncla.yaml`.

9. **2h_maimonides.py**  
   Extracts related IDs referencing Maimonides, Meir, and Chinuch and generates a structured YAML file. Output: `volume_1_2_output/output_2h_maimonides.yaml`.

10. **3_merge_and_generate_Law_of_Messiah.py**  
    Merges all YAML files in `volume_1_2_output` starting with `output_` and generates a combined YAML file. Output: `Law_of_Messiah_ot.yaml`.

#### Scripts in `volume_3_scripts`

1. **0_get_law_of_Messiah_volume_3.py**  
   Downloads the original PDF file and converts it together with all extra font information into output: `volume_3_output/law_of_Messiah_volume_3_structured.json`.

2. **1_generate_law_of_Messiah_nt.py**  
   Extracts commandments, titles, and related fields from the [json export](volume_3_output/law_of_Messiah_volume_3_structured.json) and generates a YAML file. Output: `volume_3_output/law_of_Messiah_commandments.yaml`.

3. **1_generate_law_of_Messiah_nt.py**  
   Extracts extra sections like commandment_form, supportive_ot_commandments and more fields from the [json export](volume_3_output/law_of_Messiah_volume_3_structured.json) and generates a YAML file. Output: `volume_3_output/law_of_Messiah_sections.yaml`.

4. **3_merge_law_of_messiah_yaml.py**  
   Adds the type of commandment (positive or negative) to each item in the merged data. Then merges the two YAML files in `volume_3_output` and generates a combined YAML file. Output: `Law_of_Messiah_nt.yaml`.

5. **4_add_commandment_form.py**  
   Uses OpenAI and Bible API to automatically generate the `commandment_form` field for each commandment in the `Law_of_Messiah_ot.yaml`. Reason is that it is missing in the OT volumes (while it is present in the NT volumes). It supports dry-run modes for both Bible lookups and OpenAI calls, logs all actions, and can help align AI-generated labels with the author's original intent. Output: updates the relevant YAML file and writes debug information to `logs/debug_commandment_form.log`.

#### Scripts in `filter_scripts`

1. **filter_commandments.py**  
   Allows filtering commandments based on custom criteria defined by the user. Output: `filter_output/filtererd_commandments.yaml`.

   > NOTE: When checking `filter_unique` is True, it can take a while. Please be aware that this filter will never be perfect. It can be used as a starting point for further manual review.
